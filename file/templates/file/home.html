{% extends "base.html" %}
{% block extra_head %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
{% endblock %}

{% block content %}
<div class="text-center">
    <div class="icon-circle mb-4">
        <i class="fas fa-share-alt"></i>
    </div>
    <h2 class="mb-4">File Sharing</h2>
    <div class="server-url">{{ server_url }}</div>
    <div id="qrcode" class="mb-4"></div>
    <div class="d-flex justify-content-center gap-3">
        <button class="btn btn-primary" onclick="window.location.href='/upload'">
            <i class="fas fa-upload me-2"></i>Upload
        </button>
        <button class="btn btn-primary" onclick="window.location.href='/file-list'">
            <i class="fas fa-file me-2"></i>Files
        </button>
    </div>
</div>

<script>
    var qrcode = new QRCode(document.getElementById("qrcode"), {
        text: "{{ server_url }}",
        width: 180,
        height: 180,
        colorDark: "#000000",
        colorLight: "#ffffff",
        correctLevel: QRCode.CorrectLevel.H
    });
</script>
{% endblock %}